---
engine: julia
---

# Step 1: from Lewis-Short to ChatGPT summaries



> *Compare identifiers in Lewis-Short with results of queries to ChatGPT*.

### Collect ID values from Lewis-Short

Downoad the lexicon and its contents.

```{julia}
#| output: false
using Downloads
url = "http://shot.holycross.edu/lexica/ls-articles.cex"
f = Downloads.download(url)
content = readlines(f)
rm(f)
```
The articles are in a delimted-text table with a header followed by one article per line. Here's a sample:

```{julia}
content[1:2]
```

The second column has the URN for the article. We'll strip the object identifier from it to create a list of identifiers in the lexicon.

```{julia}
lsids = map(content[2:end]) do ln
    columns = split(ln,"|")
    replace(columns[2], r".*:" => "")
end
length(lsids)
```

```{julia}
#| echo: false
#| output: false
repo = pwd() |> dirname |> dirname |> dirname
```

### Read ID part of file names


```{julia}
summariesdir = joinpath(repo, "suarez", "lewisshort-extracts", "extracts-cycle2")
dirnames = filter(readdir(summariesdir)) do d
    startswith(d, "tranche")
end
pathlist = map(d -> joinpath(summariesdir, d), dirnames)

fileids = []
for path in pathlist
    cexfiles = filter(f -> endswith(f, ".cex"), readdir(path))
    cexfileids = [replace(f, ".cex" => "") for f in cexfiles]
    for f in cexfileids
        push!(fileids, f)
    end
end
length(fileids)
```

### Compare contents
The two lists of ID values have the same number of entries. Let's verify that their contents are identical:

```{julia}
issetequal(fileids, lsids)
```

